# 4. Dive into PHP :)


## Змінні в PHP: визначення, типи даних.

Ми з вами вже опанували питання типізації в цілому, тепер переходимо до практичного матеріалу мовою PHP.

**PHP - мова з нестрогою динамічною типізацією.**

**Динамічна типізація** означає, що ту саму змінну можна спочатку ініціалізувати рядком, потім числом, потім булевим значенням, і так далі. Мови зі статичною типізацією, як мову C, Java, подібного неможливо.

**Нестрога типізація** означає, що мова сама намагається змінювати тип змінної залежно від її використання. Наприклад, якщо додати до рядка, в якому записано число, мова спробує перетворення рядка до числа для правильного підсумовування. Якщо спроба буде успішною, результат може здивувати, якщо не буде – буде видано помилку.

## Змінні в PHP: визначення, типи даних

**Змінною** називається названа область у пам'яті, де зберігаються дані. Змінна має тип та ім'я.
Імена змінних PHP завжди починаються зі знака долара. Для того, щоб створити змінну та записати в неї значення, використовується оператор присвоєння (=).
У кожної змінної в php в даний час може бути тільки один тип.

** Типом змінної ** називається той вид даних, який на даний момент може зберігати змінна.
Всі види даних у мовах програмування можна віднести до двох груп: скалярні (прості) типи даних та структуровані (складові) типи даних.


На цьому уроці ми працюємо тільки зі скалярним типом даних integer (цілі числа) і структурованим типом даних string (рядок), що є послідовністю символів. Докладніше структуровані типи даних будуть розглянуті на наступних уроках.

Далі представлені змінні різних скалярних (простих) типів:

```php
$my_integer = 4; //цілі числа
$my_float = 4.12; //дробові числа
$my_str = 'aaa'; //символи
$my_bool = true; //правда чи брехня, булева алгебра

````

## Найпростіші математичні операції
Над цілими і дробовими числами доступні математичні операції множення (+), поділу (/), віднімання (-), додавання (+), зведення в ступінь (**) та отримання залишку від поділу (%):

```php
$int1 = 4;
$int2 = 8;
$result = $int1 + $int2; // $result = 12
$result = $int2 - $int1; // $result = 4
$result = $int1 * $int2; // $result = 32
$result = $int2 / $int1; // $result = 2
$result = $int2 ** $int1; // $result = 4096
$result = $int2 % $int1; // $result = 0
````

## Введення та виведення даних

Для виведення даних використовуються функції

`echo, print, print_r, var_dump`

Ми познайомимося з цими функціями пізніше, поки нам достатньо знати наступне:

```php
$int1 = 4;
$str1 = "8";
echo $int1; //Виведе 4
echo 'text'; //виведе text
echo "text"; //виведе text
echo '$str1'; // виведе $str1
echo "$str1";// виведе 8
````


Ми вже знайомилися на минулому уроці із булевим типом даних. Змінна типу `bool` може містити лише два значення: **true** або **false**, причому це не рядки, не числа, а саме поняття брехня та істина.


```php
$bool1 = true;
$bool2 = false;
````

Для роботи з змінними булевими існує булева алгебра.

## Булева алгебра (логічні оператори)

Існують такі логічні оператори:

* && - І
* || - АБО
* xor - Виключне АБО
*! - НЕ

not означає НЕ, і, будучи поставленим перед типом bool, змінює його значення зворотне, тобто. **`not True`** стає **`False`**,**`not False`** стає **`True`**

Далі наведено таблицю, яка демонструє роботу операторів:

| | 0 до 0 | 0 до 1 | 1 до 0 | 1 до 1 |
|-------------|:-----:|:-----:|:------:|:-----:|
| && | 0 | 0 | 0 | 1 |
| &#124;&#124;| 0 | 1 | 1 | 1 |
| xor | 0 | 1 | 1 | 0 |


## Керуючі конструкції
  Найпростіша програма виконується зверху вниз від першого рядка до останнього. Щоб змінити порядок виконання програми, використовуються управляючі структури. Існують керуючі структури кількох типів:
 
* оператори умови
* Оператори циклу
* оператори підключення інших файлів
* Оператори для втручання в роботу циклу або функції інші оператори
[Повний список](http://php.net/manual/ru/language.control-structures.php)

## Оператор умови if
Існують такі оператори умови:

* if -> elseif -> else
*?: (Тернарний оператор)
* switch->case->break

Розглянемо кожен докладніше з прикладу конкретного коду:

```php
<?php

echo "Give it to me!\n";
$handle = fopen ("php://stdin", "r");
$number = fgets($handle);

if ($number > 100) {
     echo "Thanks, man!";
} elseif (($number > 10) && ($number < 100)) {
     echo "OK: (";
} else echo "WHAAAAT????";

echo "\n";
if ($number > 1000) echo "\n!!!!WOOOOWWWW!!!\n";

````

Зверніть увагу, ми вперше стикаємося із блоком операторів. Так само буде і у циклів, і у функцій, і у класів, і у їх методів, і таке інше. блок операторів починається зі свого ініціатора (наприклад, зараз це блок оператора `if`), після ініціатора ставиться фігурна дужка, потім усі дії, які програміст хоче виконувати в рамках цього блоку, він повинен виконувати після одного додаткового відступу. Якщо відступу не буде, **php** спрацює, помилки не буде, але відступи потрібні програмісту та його колегам, щоб візуально розуміти, до якого блоку належить рядок коду.

Як видно з лістингу, можна використовувати оператор if в декількох варіантах. Нижче наведено список усіх варіантів:

* if (умова) дія
* if (умова) {блок дій у кілька рядків}
* if (умова) {блок дій у кілька рядків} else дія
* if (умова) {блок дій у кілька рядків} else {блок дій у кілька рядків}
* if (умова) {блок дій на кілька рядків} elseif(умова) {блок дій на кілька рядків} else дію
* if (умова) {блок дій у кілька рядків} elseif(умова) {блок дій у кілька рядків} else {блок дій у кілька рядків}

**Між if і else може бути скільки завгодно elseif.**


## Оператор вибору switch

Оператор switch в основному використовується в тих випадках, коли в залежності від вмісту змінної необхідно виконати більше двох варіантів дій і є альтернативою конструкції if-elseif-elseif....else.:

```php
<?php
echo "Give me the mark!\n";
$handle = fopen ("php://stdin", "r");
$ mark = fgets ($ handle);

switch ($mark) {
     case 2:
         echo "I am better!!";
         break;
     case 3:
         echo "OK: (";
         break;
     case 4:
         echo "I am good :)";
         break;
     case 5:
         echo "YeeeeWhaaaa!!!!";
         break;
}

echo "\n";
````

## Тернарний оператор

Тернарні оператори часто застосовуються, коли варіанти всього два, тому що такий запис коротший за аналогічну дію з `if`. Однак, на жаль, можна зустріти зв'язку `if` та тернарних операторів, яку абсолютно неможливо прочитати. Іншими словами, це не потрібна річ у мові і вона може стати причиною нечитаного тексту.

Нижче наведено приклад тернарного оператора:

```php
<?php

echo "If you are a man, press 1!\n";
$handle = fopen ("php://stdin", "r");
$input = fgets($handle);

echo ($input == 1)? "MAAAN!" : "Hey, girl!";

echo "\n";
````

## Особливості порівняння та перевірки об'єктів

У світлі того, що **php** є мовою з нестрогою динамічною типізацією, їй притаманні досить оригінальні висновки, коли справа стосується визначення, чи є вміст дужок будь-якої умови правдою чи брехнею.
**PHP** вважає, що якщо об'єкт не порожній, він `True`, а не `False`. `False` - це власне сам `False`, 0, порожній рядок, порожній масив, `null` і навіть рядок, в якому записано '0'.

Повний список усіх варіантів можна переглянути за посиланням: [таблиці порівняння типів](http://php.net/manual/ru/types.comparisons.php)

Як отримати з цього зиск і як цим користуватися? Якщо нам необхідно порівняти рядок з порожнім рядком, або число з нулем, а також дізнатися, чи порожній той чи інший об'єкт, замість того, щоб писати умови в стилі старих мов:

```php
if ($s !='') echo $s;
    
if (9 % 2! = 0) echo 'not zero!';
````

можна злегка їх скоротити:

```php
if ($s) echo $s;
    
if (9 % 2) echo 'not zero!';
````

Це значно скорочує та спрощує код.

## Домашка

[Домашнє завдання](hw4.md)

[PHP online](https://repl.it/languages/php_cli)
